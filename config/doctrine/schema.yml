Usuario:
  inheritance:
    extends: sfGuardUser
    type: simple

Estudante:
  columns:
    usuario_id:
      primary: true
      type: integer
    matricula:
      type: string(20)
      notnull: true
    telefone:
      type: string(14)
  relations:
    Usuario:
      local: usuario_id
      type: one
      foreignType: one
      cascade: [delete]

Professor:
  columns:
    usuario_id:
      primary: true
      type: integer
    instituicao:
      type: string(255)
      notnull: true
    titulacao:
      type: string(30)
      notnull: true
    experiencia:
      type: integer
    substituto:
      type: boolean
    comissao:
      type: boolean
  relations:
    Usuario:
      local: usuario_id
      type: one
      foreignType: one
      cascade: [delete]

Projeto:
  columns:
    titulo:
      type: string(255)
      notnull: true
    estudante_id:
      type: integer
      notnull: true
    professor_id:
      type: integer
      notnull: true
    coorientadores:
      type: string(255)
    data_requisicao:
      type: date
    data_sugestao:
      type: date
    data_aprovacao:
      type: date
    data_autorizacao:
      type: date
    documento:
      type: string(255)
    documento_final:
      type: string(255)
    qtde_linhas:
      type: integer
  relations:
    Estudante:
      local: estudante_id
      type: one
      foreignType: many
    Professor:
      local: professor_id
      type: one
      foreignType: many
    Proposta:
      local: id
      foreign: projeto_id
      type: one
      cascade: [delete]

Proposta:
  columns:
    projeto_id:
      type: integer
      notnull: true
    status:
      type: integer(1)
    comentarios:
      type: string
    data_submissao:
      type: date
    data_feedback:
      type: date
    documento:
      type: string(255)
  relations:
    Projeto:
      local: projeto_id
      type: one

Semestre:
  columns:
    nome:
      type: string(30)
    data_inicio:
      type: date
    data_proposta:
      type: date
    data_apresentacao:
      type: date